:host {
  * {
    user-select: none;
  }

  border-radius: 1rem;
  min-height: 300px;
  display: flex;
  flex-direction: column;
  background-color: var(--window-background);
  overflow: hidden;
  box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.163);

  .window-toolbar {
    background-color: var(--window-toolbar);
    display: flex;
    align-items: center;
    padding: 0.5rem;

    .window-icons {
      display: flex;
      align-items: center;
      gap: 0.5rem;

      .icon {
        border-radius: 100%;
        width: 10px;
        height: 10px;

        &.close {
          background-color: rgb(240, 76, 76);
        }
        &.minimize {
          background-color: rgb(228, 228, 29);
        }
        &.expand {
          background-color: rgb(39, 216, 39);
        }
      }
    }
  }

  .browser-toolbar {
    display: flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-bottom: 1px solid var(--toolbar-border);
    background-color: var(--browser-toolbar);
    gap: 0.5rem;
    color: var(--text-color);

    .arrows {
      display: flex;
      gap: 0.5rem;
      font-size: 1.2rem;
    }

    .url-bar {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: var(--url-bar);
      font-size: 1rem;
      padding: 0 0.5rem 0 1rem;
      flex-grow: 1;
      border-radius: 0.5rem;

      .url {
        user-select: text;
        flex-grow: 1;
      }

      .refresh-icon {
        font-size: 2rem;
        line-height: 1;
      }

      &.url-bar-explanation {
        outline: solid var(--token-boolean-number-function) 3px;
        box-shadow: 0px 0px 20px 5px black;

        .explanation-arrow {
          position: absolute;
          bottom: -40px;
          left: calc(50% - 2px);
        }
      }
    }
  }

  .explanations {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: "Indie Flower", system-ui;
    font-weight: 400;
    font-style: normal;
    background: var(--code-bg-color);
    padding: 45px 1rem 1rem 1rem;
    position: relative;

    p {
      font-weight: bold;
      text-align: center;
      color: var(--token-boolean-number-function);
    }
  }

  .viewport {
    display: flex;
    flex-direction: column;
    --avatar-size: 180px;
    --half-avatar-size: calc(var(--avatar-size) / 2);

    .header-pic {
      height: 160px;
      position: relative;

      avatar-icon {
        width: var(--avatar-size);
        fill: var(--base-color);
        position: absolute;
        left: 1rem;
        bottom: calc(-1 * var(--half-avatar-size));
        border-radius: 100%;
        background-color: var(--bg-color);
      }
    }

    .body {
      height: 340px;
      background-color: color-mix(
        in hsl,
        var(--window-background) 60%,
        var(--bg-color)
      );
      display: flex;

      .left {
        padding: 1rem;
        padding-top: calc(var(--half-avatar-size) + 1rem);
        display: flex;
        flex-direction: column;
        gap: 0.5rem;

        .skeleton.name {
          height: 1.6em;
          width: var(--avatar-size);
        }

        .skeleton.email {
          height: 1.4em;
          width: calc(var(--avatar-size) - 40px);
        }

        .icon-and-span {
          height: 1.4em;
          width: var(--avatar-size);
          display: flex;
          gap: 0.75rem;

          .skeleton.icon {
            width: 2em;
          }

          .skeleton.span {
            flex-grow: 1;
          }
        }
      }

      .right {
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        flex-grow: 1;

        .post {
          display: flex;
          height: 70%;
          // animation: gradient-shift-post 2s infinite ease-in-out;

          &:last-child {
            height: 30%;
          }
        }
      }
    }
  }
}

* {
  --base-color: color-mix(
    in hsl,
    var(--window-background) 92%,
    var(--text-color)
  );
  --shine-color: color-mix(in hsl, var(--base-color), var(--bg-color));
}

.skeleton {
  position: relative;
  border-radius: 4px;
  overflow: hidden;

  background: var(--base-color);

  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      var(--shine-color),
      transparent
    );
    animation: shimmer 4s infinite ease-in-out;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

.explanation-arrow {
  width: 4px;
  height: 40px;
  background-color: var(--token-boolean-number-function);
  z-index: 1;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;

  .left-side,
  .right-side {
    width: 4px;
    height: 20px;
    position: absolute;
    background-color: var(--token-boolean-number-function);
    bottom: 0;
    left: 0;
    transform-origin: bottom;
    border-radius: 4px;
  }

  .left-side {
    rotate: -45deg;
    translate: 0 -1px;
    transform-origin: bottom;
    border-radius: 4px;
  }

  .right-side {
    rotate: 45deg;
    translate: 0 -1px;
  }
}
