<app-nav></app-nav>

<main #mainScrollBox>
  <div class="left">
    <div class="pane flex items-center justify-center flex-col">
      <div class="flex flex-col items-start font-mono">
        <span>Tyler Tierney</span>
        <span>August 2025</span>
      </div>
    </div>
    <div
      class="pane flex items-center justify-center flex-col sticky"
      style="top: var(--navbar-height)"
    >
      <code-block
        style="margin-left: -75px"
        [codeText]="codeText()"
      ></code-block>
    </div>
  </div>

  <div class="right">
    <div class="scroller-track">
      <div
        [style.top]="scrollerPosition() + 'px'"
        [style.height]="scrollerHeight() + 'px'"
        class="scroller"
      ></div>
    </div>
    <div class="inner">
      <section class="flex items-start justify-center flex-col mb-50">
        <h1 class="text-3xl font-bold mb-10">
          Building Angular components in 2025
        </h1>
        <p>
          Today I'm going to demonstrate a pattern I like to use when building
          Angular components. In this example, we'll imagine the scenario of a
          user profile page in a RESTful application.
        </p>
        <p>
          Consider a page that looks something like this. We're expected to
          fetch a given user's full profile data and display it. Profile photo,
          header photo, first and last name, email, etc:
        </p>
        <browser-window
          style="width: 120%; translate: -20%"
          class="self-stretch"
        ></browser-window>
      </section>

      <section
        data-intersector-id="0"
        #intersector
        style="margin-bottom: 400px"
      >
        <p>
          Let's assume that our app already has a <code>UserService</code> with
          a method called <code>getUser()</code> which returns an observable
          holding a <code>User</code> object.
        </p>
      </section>

      <section
        data-intersector-id="1"
        #intersector
        style="margin-bottom: 400px"
      >
        <p>
          We'll begin scaffolding our component. Taking care to specify our
          <a
            class="underline underline-offset-8 text-primary-400"
            href="https://angular.dev/api/core/ChangeDetectionStrategy"
            target="_blank"
            >changeDetectionStrategy</a
          >
          as OnPush.
        </p>
      </section>

      <section
        data-intersector-id="2"
        #intersector
        style="margin-bottom: 400px"
      >
        <p>Now let's inject that service into our component.</p>
        <p>
          We'll try to keep any injected services towards the top of our
          component class.
        </p>
      </section>
      <section data-intersector-id="3" #intersector style="margin: 0">
        <p>
          In a scenario like this, I like to visualize my component as a logical
          middleman between the URL and the page content. I did my best to
          illustrate this below:
        </p>
      </section>
      <section>
        <browser-window
          style="width: 150%; translate: -50%"
          class="self-stretch"
          [showExplanations]="true"
        ></browser-window>
      </section>
    </div>
  </div>
</main>
